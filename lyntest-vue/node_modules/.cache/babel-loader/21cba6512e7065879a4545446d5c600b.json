{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/lin/plugin/preview/index.js","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/lin/plugin/preview/index.js","mtime":1606834545471},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Preview from '@/component/base/preview/preview';\nvar previewImage = {};\n\npreviewImage.install = function (vue) {\n  // eslint-disable-line\n  var PreviewConstructor = vue.extend(Preview);\n  var instance = null; // eslint-disable-next-line func-names\n\n  PreviewConstructor.prototype.close = function () {\n    this.data = [];\n    this.options = {};\n    this.imageIndex = 0;\n  };\n\n  var getInstance = function getInstance() {\n    if (!instance) {\n      instance = new PreviewConstructor();\n    }\n\n    return instance;\n  };\n\n  vue.prototype.$imagePreview = function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // eslint-disable-line\n    var elem = document.createElement('div');\n\n    if (!instance) {\n      var myInstance = getInstance();\n      vue.prototype.$previewInstance = myInstance; // eslint-disable-line\n\n      myInstance.$mount(elem);\n      myInstance.data = opts.images || [];\n      myInstance.imageIndex = opts.index || 0;\n      myInstance.options = opts.defaultOpt || {};\n      document.body.appendChild(myInstance.$el);\n      myInstance.$on('close', function () {\n        myInstance.close();\n        document.body.removeChild(myInstance.$el);\n        myInstance.$destroy();\n        myInstance = null;\n        instance = null;\n      });\n    }\n  };\n};\n\nVue.use(previewImage);\nexport default previewImage;",{"version":3,"sources":["/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/lin/plugin/preview/index.js"],"names":["Vue","Preview","previewImage","install","vue","PreviewConstructor","extend","instance","prototype","close","data","options","imageIndex","getInstance","$imagePreview","opts","elem","document","createElement","myInstance","$previewInstance","$mount","images","index","defaultOpt","body","appendChild","$el","$on","removeChild","$destroy","use"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,kCAApB;AAEA,IAAMC,YAAY,GAAG,EAArB;;AACAA,YAAY,CAACC,OAAb,GAAuB,UAAAC,GAAG,EAAI;AAC5B;AACA,MAAMC,kBAAkB,GAAGD,GAAG,CAACE,MAAJ,CAAWL,OAAX,CAA3B;AAEA,MAAIM,QAAQ,GAAG,IAAf,CAJ4B,CAM5B;;AACAF,EAAAA,kBAAkB,CAACG,SAAnB,CAA6BC,KAA7B,GAAqC,YAAY;AAC/C,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACD,GAJD;;AAMA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAI,CAACN,QAAL,EAAe;AACbA,MAAAA,QAAQ,GAAG,IAAIF,kBAAJ,EAAX;AACD;;AACD,WAAOE,QAAP;AACD,GALD;;AAOAH,EAAAA,GAAG,CAACI,SAAJ,CAAcM,aAAd,GAA8B,YAAe;AAAA,QAAdC,IAAc,uEAAP,EAAO;AAC3C;AACA,QAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb;;AACA,QAAI,CAACX,QAAL,EAAe;AACb,UAAIY,UAAU,GAAGN,WAAW,EAA5B;AACAT,MAAAA,GAAG,CAACI,SAAJ,CAAcY,gBAAd,GAAiCD,UAAjC,CAFa,CAE+B;;AAC5CA,MAAAA,UAAU,CAACE,MAAX,CAAkBL,IAAlB;AACAG,MAAAA,UAAU,CAACT,IAAX,GAAkBK,IAAI,CAACO,MAAL,IAAe,EAAjC;AACAH,MAAAA,UAAU,CAACP,UAAX,GAAwBG,IAAI,CAACQ,KAAL,IAAc,CAAtC;AACAJ,MAAAA,UAAU,CAACR,OAAX,GAAqBI,IAAI,CAACS,UAAL,IAAmB,EAAxC;AACAP,MAAAA,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BP,UAAU,CAACQ,GAArC;AACAR,MAAAA,UAAU,CAACS,GAAX,CAAe,OAAf,EAAwB,YAAM;AAC5BT,QAAAA,UAAU,CAACV,KAAX;AACAQ,QAAAA,QAAQ,CAACQ,IAAT,CAAcI,WAAd,CAA0BV,UAAU,CAACQ,GAArC;AACAR,QAAAA,UAAU,CAACW,QAAX;AACAX,QAAAA,UAAU,GAAG,IAAb;AACAZ,QAAAA,QAAQ,GAAG,IAAX;AACD,OAND;AAOD;AACF,GAnBD;AAoBD,CAxCD;;AA0CAP,GAAG,CAAC+B,GAAJ,CAAQ7B,YAAR;AAEA,eAAeA,YAAf","sourcesContent":["import Vue from 'vue'\nimport Preview from '@/component/base/preview/preview'\n\nconst previewImage = {}\npreviewImage.install = vue => {\n  // eslint-disable-line\n  const PreviewConstructor = vue.extend(Preview)\n\n  let instance = null\n\n  // eslint-disable-next-line func-names\n  PreviewConstructor.prototype.close = function () {\n    this.data = []\n    this.options = {}\n    this.imageIndex = 0\n  }\n\n  const getInstance = () => {\n    if (!instance) {\n      instance = new PreviewConstructor()\n    }\n    return instance\n  }\n\n  vue.prototype.$imagePreview = (opts = {}) => {\n    // eslint-disable-line\n    const elem = document.createElement('div')\n    if (!instance) {\n      let myInstance = getInstance()\n      vue.prototype.$previewInstance = myInstance // eslint-disable-line\n      myInstance.$mount(elem)\n      myInstance.data = opts.images || []\n      myInstance.imageIndex = opts.index || 0\n      myInstance.options = opts.defaultOpt || {}\n      document.body.appendChild(myInstance.$el)\n      myInstance.$on('close', () => {\n        myInstance.close()\n        document.body.removeChild(myInstance.$el)\n        myInstance.$destroy()\n        myInstance = null\n        instance = null\n      })\n    }\n  }\n}\n\nVue.use(previewImage)\n\nexport default previewImage\n"]}]}